---
http_interactions:
- request:
    method: delete
    uri: https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Host:
      - us1.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.3
  response:
    status:
      code: 204
      message: No Content
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '0'
      X-Request-Id:
      - 0ce18eba-1d1b-4729-b6c6-fde504093a76
      Date:
      - Fri, 05 Aug 2016 16:05:12 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 05 Aug 2016 16:05:12 GMT
- request:
    method: delete
    uri: https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/17
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Host:
      - us1.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.3
  response:
    status:
      code: 204
      message: No Content
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '0'
      X-Request-Id:
      - 0ce18eba-1d1b-4729-b6c6-fde504093a76
      Date:
      - Fri, 05 Aug 2016 16:05:12 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Fri, 05 Aug 2016 16:05:12 GMT
- request:
    method: post
    uri: https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products
    body:
      encoding: UTF-8
      string: '{"id":"1","handle":"product-name","title":"PRODUCT NAME","description":"As
        seen on TV!","variants":[{"id":"1","title":"PRODUCT NAME","sku":"SKU-7","price":19.99,"visibility":"true","url":"http://www.example.com/products/product-name","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010"}],"url":"http://www.example.com/products/product-name","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010","published_at_foreign":"2015-08-05T16:05:11Z"}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us1.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '2474'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - a5b470d5-37ba-4777-84f0-c03335bd9430
      Link:
      - <https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json>;
        rel="describedBy"
      Date:
      - Fri, 05 Aug 2016 16:05:12 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"1","title":"PRODUCT NAME","handle":"product-name","url":"http://www.example.com/products/product-name","description":"As
        seen on TV!","type":"","vendor":"","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010","variants":[{"id":"1","title":"PRODUCT
        NAME","url":"http://www.example.com/products/product-name","sku":"SKU-7","price":19.99,"inventory_quantity":0,"image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010","backorders":"","visibility":"true","created_at":"2016-08-05T16:05:12+00:00","updated_at":"2016-08-05T16:05:12+00:00","_links":[{"rel":"self","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PATCH","schema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PUT","schema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"DELETE"}]}],"published_at_foreign":"2015-08-05T16:05:11+00:00","_links":[{"rel":"self","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Instance.json"},{"rel":"parent","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"delete","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"DELETE"},{"rel":"variants","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Collection.json"}]}'
  recorded_at: Fri, 05 Aug 2016 16:05:12 GMT
- request:
    method: post
    uri: https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products
    body:
      encoding: UTF-8
      string: '{"id":"1","handle":"product-name","title":"NEW NAME","description":"As
        seen on TV!","variants":[{"id":"1","title":"NEW NAME","sku":"SKU-7","price":19.99,"visibility":"true","url":"http://www.example.com/products/product-name","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010"}],"url":"http://www.example.com/products/product-name","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010","published_at_foreign":"2015-08-05T16:05:11Z"}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us1.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.3
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - nginx
      Content-Type:
      - application/problem+json; charset=utf-8
      Content-Length:
      - '249'
      X-Request-Id:
      - 491418a5-64a7-46fa-9642-f1462e98fe97
      Link:
      - <https://us1.api.mailchimp.com/schema/3.0/ProblemDetailDocument.json>; rel="describedBy"
      Date:
      - Fri, 05 Aug 2016 16:05:15 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"type":"http://developer.mailchimp.com/documentation/mailchimp/guides/error-glossary/","title":"Bad
        Request","status":400,"detail":"We were unable to process the request. A product
        with the provided ID already exists in the account.","instance":""}'
  recorded_at: Fri, 05 Aug 2016 16:05:15 GMT
- request:
    method: put
    uri: https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1
    body:
      encoding: UTF-8
      string: '{"id":"1","title":"NEW NAME","sku":"SKU-7","price":19.99,"visibility":"true","url":"http://www.example.com/products/product-name","image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010"}'
    headers:
      Authorization:
      - Basic <OMITTED AUTH HEADER>
      Connection:
      - close
      Content-Type:
      - application/json; charset=UTF-8
      Host:
      - us1.api.mailchimp.com
      User-Agent:
      - http.rb/2.0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Content-Type:
      - application/json; charset=utf-8
      Content-Length:
      - '1375'
      Vary:
      - Accept-Encoding
      X-Request-Id:
      - 65efbbe9-6288-4903-8f08-14de49a15204
      Link:
      - <https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json>;
        rel="describedBy"
      Date:
      - Fri, 05 Aug 2016 16:05:15 GMT
      Connection:
      - close
      Set-Cookie:
      - _AVESTA_ENVIRONMENT=prod; path=/
    body:
      encoding: UTF-8
      string: '{"id":"1","title":"NEW NAME","url":"http://www.example.com/products/product-name","sku":"SKU-7","price":19.99,"inventory_quantity":0,"image_url":"/spree/products/1/product/thinking-cat.jpg?1462425010","backorders":"","visibility":"true","created_at":"2016-08-05T16:05:12+00:00","updated_at":"2016-08-05T16:05:15+00:00","_links":[{"rel":"self","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"parent","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1","method":"GET","targetSchema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Collection.json"},{"rel":"update","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PATCH","schema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"upsert","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"PUT","schema":"https://us1.api.mailchimp.com/schema/3.0/Ecommerce/Stores/Products/Variants/Instance.json"},{"rel":"delete","href":"https://us1.api.mailchimp.com/3.0/ecommerce/stores/dummy-store-id/products/1/variants/1","method":"DELETE"}]}'
  recorded_at: Fri, 05 Aug 2016 16:05:15 GMT
